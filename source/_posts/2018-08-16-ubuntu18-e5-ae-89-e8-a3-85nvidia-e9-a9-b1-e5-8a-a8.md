---
title: Ubuntu18安装NVIDIA驱动
url: 1579.html
id: 1579
categories:
  - I·TQ
tags:
  - nvidia
  - 并行计算
---

之前一直使用centos7和ubuntu16的虚拟机进行开发，现在把主要的工作环境换成ubuntu18，好多东西忘记了，又要重新来过，特别是驱动的安装，网上的教程参差不齐（往往精华帖不在前面）。 查看显卡设备： ubuntu-drivers devices == /sys/devices/pci0000:00/0000:00:01.0/0000:01:00.0 == modalias : pci:v000010DEd00001C02sv00001462sd00003287bc03sc00i00 vendor : NVIDIA Corporation model : GP106 \[GeForce GTX 1060 3GB\] driver : nvidia-driver-390 - distro non-free recommended driver : xserver-xorg-video-nouveau - distro free builtin 自动安装驱动： sudo ubuntu-drivers autoinstall 或者是指定安装驱动： sudo apt install nvidia-driver-390 需要重启,如果没有意外开机后依旧是集显。问题在于没有禁用Nouveau驱动 修改/etc/modprobe.d/blacklist.conf 文件，添加： blacklist nouveau options nouveau modeset=0 备分和重建initramfs file： sudo mv /boot/initramfs-$(uname -r).img /boot/initramfs-$(uname -r).img.bak sudo dracut -v /boot/initramfs-$(uname -r).img 确认nouveau driver没有被加载 lsmod | grep nouveau 重启确认是否安装好了驱动：nvidia-smi 如果仍然没有安装妥当，可以通过切换文本模式，手动安装官方下载的.run文件（大概80M） 切换到文本模式： init 3